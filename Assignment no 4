Implement a problem of activity selection problem with K persons. Statement: Given two arrays S[] and E[] of size N denoting starting and closing time of the shops and an integer value K denoting the number of people, the task is to find out the maximum number of shops they can visit in total if they visit each shop optimally based on the following conditions:
 A shop can be visited by only one person.
 A person cannot visit another shop if its timing collides with it.

import java.util.*;

public class ActivitySelectionKPersons {

    // Structure for shop (activity)
    static class Shop {
        int start, end;
        Shop(int s, int e) {
            start = s;
            end = e;
        }
    }

    // Function to find max number of shops visited by K persons
    public static int maxShopsVisited(int[] S, int[] E, int K) {
        int n = S.length;

        // Step 1: Create list of shops
        List<Shop> shops = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            shops.add(new Shop(S[i], E[i]));
        }

        // Step 2: Sort shops by end time (greedy)
        shops.sort(Comparator.comparingInt(a -> a.end));

        // Step 3: Use Min Heap to store end times of currently occupied persons
        PriorityQueue<Integer> pq = new PriorityQueue<>();

        int count = 0;

        // Step 4: Traverse each shop
        for (Shop shop : shops) {
            // If there's a person free before shop starts
            if (!pq.isEmpty() && pq.peek() <= shop.start) {
                pq.poll();  // Reuse this person
            } else if (pq.size() >= K) {
                continue; // All persons busy
            }
            // Assign this shop to a person
            pq.add(shop.end);
            count++;
        }
        return count;
    }

    public static void main(String[] args) {
        int[] start = {1, 3, 5, 6, 8, 9};
        int[] end =   {3, 5, 7, 8, 10, 11};
        int K = 2;

        int result = maxShopsVisited(start, end, K);
        System.out.println("Maximum number of shops visited: " + result);
    }
}

---------------------------------------------------------------------------------------------------------------------------------
Start times: [1, 3, 5, 6, 8, 9]
End times:   [3, 5, 7, 8, 10, 11]
K = 2 persons



